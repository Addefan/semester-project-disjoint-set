# Disjoint-set

_Краткое описание семестрового проекта._
- _Реализуется структура данных под названием **система непересекающихся множеств** (en. **disjoint-set**)_
- _Представляет из себя систему непересекающихся деревьев_
- _Приложения структуры данных:_
  - Поддержание компонент связности графа
  - Построение остова минимального веса
  - Сегментирование изображений
  - Генерация лабиринтов
- _Структура данных определяется множеством трёх операций: {Union, Find, MakeSet}_
- _Теоретическая сложность операций:_
  - Создание множества (MakeSet) за `O(1)`
  - Нахождение множества, которому принажлежит элемент (Find) за `O(α(n))`, где 
    α(n) - функция, обратная [функции Аккермана](https://ru.wikipedia.org/wiki/Функция_Аккермана)
  - Объединение двух множеств (Union) за `O(α(n))`

## Команда "DeadInside"

Группа: 11-104

| Фамилия Имя   | Вклад (%) |           Прозвище |
|:--------------|----------:|-------------------:|
| Зорин Виталий |       100 | _главный суетолог_ |

**Девиз команды**
> _Мой девиз - всего три слова: питонистом быть прикольно!_

## Структура проекта

Проект состоит из следующих частей:

- [`src`](src) - реализация структуры данных (исходный код);
- [`benchmark`](benchmark) - контрольные тесты производительности структуры данных (операции создания множества, поиска
  представителя множества и объединения множеств);
- [`dataset`](dataset) - наборы данных для запуска контрольных тестов и их генерация;

## Требования

Рекомендуемые требования:

1. Интерпретатор _Python_ (версия _3.7.x_ и выше).
2. Рекомендуемый объем оперативной памяти - не менее 4 ГБ.
3. Свободное дисковое пространство объемом ~ 1 ГБ (для входного набора данных).

## Сборка и запуск

#### Сборка проекта

Склонируйте проект к себе на устройство через [Git for Windows](https://gitforwindows.org/) (либо используйте
возможности среды разработки):

```shell
git clone https://github.com/Addefan/semester-project-disjoint-set.git
```

Сборка и запуск проекта осуществляется через среду разработки.

#### Генерация тестовых данных

Формат данных: [comma-seperated values (CSV)](https://en.wikipedia.org/wiki/Comma-separated_values).

Инструкции по генерации:

```shell
# переход в папку генерации набора данных
cd dataset

# запуск Python-скрипта
python generate_csv_dataset.py <output> --samples 100
```

- `<output>` - выходной файл;
- `--samples` - количество генерируемых элементов

Тестовые данные представлены в CSV формате (см.
[`dataset/data/make/01/100.csv`](dataset/data/make/01/100.csv)):

```csv
6700657
9436641
8555103
...
```

Генерация CSV-файла со ста элементами:
```shell
cd dataset
python generate_csv_dataset.py data/make/01/100.csv --samples 100
```
где `<output> = data/make/01/100.csv`    


#### Контрольные тесты (benchmarks)

Для запуска контрольных тестов необходимо предварительно сгенерировать или скачать готовый набор тестовых данных.

**Примечание.** Скачать готовый набор текстовых данных можно, пройдя по [этой ссылке](https://drive.google.com/drive/folders/1dAXHCdJY6shhA07uni_FhmXMYj090gqN?usp=sharing) 
и 
- нажав кнопку "[СКАЧАТЬ ВСЕ]()" в правом верхнем углу, если вы не авторизованы в Google
- нажав ПКМ по папке **data** и далее нажав на кнопку "Скачать", если вы авторизованы в Google 

Скачанный архив необходимо разархивировать в [`dataset`](dataset)

##### Список контрольных тестов

| Название           | Описание                                                      | Метрики |
|:-------------------|---------------------------------------------------------------|:--------|
| `make_benchmark`   | создание одноэлементного множества                            | _время_ |
| `find_benchmark`   | поиск "представителя" множества, которому принадледит элемент | _время_ |
| `union_benchmark`  | объединение двух множеств по двум элементам                   | _время_ |

##### Примеры запуска

```shell
python benchmark/<control-test> <input> <output> --trials 50
```

- `<control-test>` - название контрольного теста (например, _make_benchmark_);
- `<input>` - входной файл с набором данных в формате CSV;
- `<output>` - выходной файл с результатами контрольного теста;
- `--trials` - количество прогонов на наборе данных

Создание 100 одноэлементных множеств из случайных элементов (повторить операцию 10 раз и записать результаты в файл):

```shell
python benchmark/make_benchmark.py dataset/data/make/01/100.csv benchmark/metrics.txt --trials 10
``` 

где `<input> = dataset/data/make/01/100.csv` и `<output> = benchmark/metrics.txt`  


## Источники

_Список использованных при реализации структуры данных источников:_

- [Статья на Википедии (en)](https://en.wikipedia.org/wiki/Disjoint-set_data_structure)
- [Статья на Википедии (ru)](https://ru.wikipedia.org/wiki/Система_непересекающихся_множеств)
- [Статья на Хабре](https://habr.com/ru/post/104772/)
- [Серия видео на YouTube от канала "Контур Студент"](https://www.youtube.com/playlist?list=PLi-jVaOCPNVBg6enAhJgmpWuurY3WwE0t)
- [Статья с сайта MAXimal](https://e-maxx.ru/algo/dsu)
- [Статья с сайта Techie Delight](https://www.techiedelight.com/disjoint-set-data-structure-union-find-algorithm/)

_**Это не плагиат, это уважение чужого труда и помощь своим сокурсникам более подробно разобраться в теме.**_
